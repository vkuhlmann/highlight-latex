\documentclass{beamer}

\usepackage{../../highlight-latex}

\usetheme{Dresden}
\usecolortheme{dolphin}

\title{LaTeX highlight demo}
\author{Vincent Kuhlmann}
\date{11 March 2021}

% A command you want to highlight
\cmdD{usepackage}

\typeout{test}

\begin{document}
		
\begin{frame}
	\titlepage
	\centering
	Let's start
\end{frame}

%\begin{lrbox}{\codeboxB}%
%	\begin{latexlight}[linewidth=19em]
%		% File: document.tex
%		\documentclass[a4paper]{article}
%		\usepackage{amsmath}
%		
%		\begin{document}
%			Insert math like $\sqrt{2}$.
%			
%		\end{document}
%	\end{latexlight}
%\end{lrbox}
%
%\setbox\codeboxB\vbox{
%\begin{latexlight}[linewidth=19em,gobble=2]
%	% File: document.tex
%	\documentclass[a4paper]{article}
%	\usepackage{amsmath}
%	
%	\begin{document}
%		Insert math like $\sqrt{2}$.
%		
%	\end{document}
%\end{latexlight}
%}

	\begin{savecode}{simpledocument}
		\begin{latexlight}[linewidth=19em,gobble=4]
			% File: document.tex
			\documentclass[a4paper]{article}
			\usepackage{amsmath}
			
			\begin{document}
				Insert math like $\sqrt{2}$.
				
			\end{document}
		\end{latexlight}
	\end{savecode}
	
	\begin{frame}
		\frametitle{Simple document}
		And your code should now look like:
		\copycode{simpledocument}
		after it
	\end{frame}
	
	\begin{frame}
		\frametitle{Simple document}
		And your code should now look like:
		\consumecode{simpledocument}
		after it
	\end{frame}


%\begin{frame}
%	\frametitle{Debug}
%	And your code should now look like:
%	%\par\bigskip
%	\par{\setlength{\fboxsep}{0pt}\fcolorbox{orange}{yellow}{%
%		%\hspace{-3pt}%
%		\usebox\codeboxB%\par\medskip
%	}}
%	bbb
%	\par
%	ccc
%\end{frame}

\end{document}
